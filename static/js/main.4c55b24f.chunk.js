(this.webpackJsonptwit_app=this.webpackJsonptwit_app||[]).push([[0],{73:function(t,e,n){"use strict";n.r(e);var r=n(7),c=n.n(r),a=n(53),i=n.n(a),o=n(11),s=n(12),b=n(39),u=n(17),l=n(0),d=n.n(l),j=n(2),p=n(32),x=n(54),O=n(29),f=n(55);Object(x.a)({apiKey:"AIzaSyC1eKVqjQgkXIxJYO5xlXEG6_6bRYxe98g",authDomain:"twit-app-fac63.firebaseapp.com",projectId:"twit-app-fac63",storageBucket:"twit-app-fac63.appspot.com",messagingSenderId:"467455715701",appId:"1:467455715701:web:2425d4863457ee3e970b3c"});var h,g,m,w,v,y,k,S,C,F,A,U,z,N,I,E,D,L,B,R,q,_,G,J,P,T,K,M,X,Y,H=Object(p.d)(),Q=Object(O.c)(),V=Object(f.a)(),W=n(13),Z=n(6),$=W.b.form(h||(h=Object(s.a)(["\n\twidth: 100%;\n\tmax-width: 320px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),tt=W.b.input(g||(g=Object(s.a)(["\n\tmax-width: 320px;\n\twidth: 100%;\n\tpadding: 10px;\n\tborder-radius: 30px;\n\tbackground-color: rgba(255, 255, 255, 1);\n\tmargin-bottom: 10px;\n\tfont-size: 12px;\n\tcolor: black;\n"]))),et=Object(W.b)(tt)(m||(m=Object(s.a)(["\n\ttext-align: center;\n\tbackground: #04aaff;\n\tcolor: white;\n\tmargin-top: 10;\n\tcursor: pointer;\n"]))),nt=W.b.span(w||(w=Object(s.a)(["\n\tcolor: tomato;\n\ttext-align: center;\n\tfont-weight: 500;\n\tfont-size: 12px;\n"]))),rt=W.b.span(v||(v=Object(s.a)(["\n\tcolor: #04aaff;\n\tcursor: pointer;\n\tmargin-top: 10px;\n\tmargin-bottom: 50px;\n\tdisplay: block;\n\tfont-size: 12px;\n\ttext-decoration: underline;\n"]))),ct=function(){var t=Object(r.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),i=Object(o.a)(a,2),s=i[0],b=i[1],u=Object(r.useState)(!0),l=Object(o.a)(u,2),x=l[0],O=l[1],f=Object(r.useState)(""),h=Object(o.a)(f,2),g=h[0],m=h[1],w=function(t){var e=t.target,n=e.name,r=e.value;"email"===n?c(r):"password"===n&&b(r)},v=function(){var t=Object(j.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,!x){t.next=7;break}return t.next=5,Object(p.c)(H,n,s);case 5:t.next=9;break;case 7:return t.next=9,Object(p.e)(H,n,s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),m(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)($,{onSubmit:v,children:[Object(Z.jsx)(tt,{name:"email",type:"text",placeholder:"Email",required:!0,value:n,onChange:w}),Object(Z.jsx)(tt,{name:"password",type:"password",placeholder:"Password",required:!0,value:s,onChange:w}),Object(Z.jsx)(et,{type:"submit",value:x?"Create Account":"Log in"}),g&&Object(Z.jsx)(nt,{children:g})]}),Object(Z.jsx)(rt,{onClick:function(){return O((function(t){return!t}))},children:x?"Sign in":"Create Account"})]})},at=n(26),it=n(40),ot=W.b.div(y||(y=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\tjustify-content: center;\n\talign-items: center;\n"]))),st=W.b.div(k||(k=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tmax-width: 320px;\n"]))),bt=W.b.button(S||(S=Object(s.a)(["\n\tcursor: pointer;\n\tborder-radius: 20px;\n\tborder: none;\n\tpadding: 10px 0px;\n\tfont-size: 12px;\n\ttext-align: center;\n\twidth: 150px;\n\tbackground: white;\n\tcursor: pointer;\n"]))),ut=function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.name,t.prev=1,"google"===n?r=new p.b:"github"===n&&(r=new p.a),t.next=5,Object(p.f)(H,r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)(ot,{children:[Object(Z.jsx)(at.a,{icon:it.c,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(Z.jsx)(ct,{}),Object(Z.jsxs)(st,{children:[Object(Z.jsxs)(bt,{onClick:t,name:"google",children:["Continue with Google ",Object(Z.jsx)(at.a,{icon:it.b})]}),Object(Z.jsxs)(bt,{onClick:t,name:"github",children:["Continue with Github ",Object(Z.jsx)(at.a,{icon:it.a})]})]})]})},lt=n(59),dt=n(25),jt=n(31),pt=n(33),xt=W.b.div(C||(C=Object(s.a)(["\n\tmargin-bottom: 20px;\n\tbackground-color: white;\n\twidth: 100%;\n\tmax-width: 320px;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: rgba(0, 0, 0, 0.8);\n\n\t& > h4 {\n\t\tfont-size: 14px;\n\t\tmargin: 0;\n\t}\n\n\t& > img {\n\t\tright: -10px;\n\t\ttop: 20px;\n\t\tposition: absolute;\n\t\tborder-radius: 50%;\n\t\twidth: 50px;\n\t\theight: 50px;\n\t\tmargin-top: 10px;\n\t}\n"]))),Ot=W.b.div(F||(F=Object(s.a)(["\n\tposition: absolute;\n\tright: 10px;\n\ttop: 10px;\n\n\t& > span {\n\t\tcursor: pointer;\n\t}\n\n\t& > span:first-child {\n\t\tmargin-right: 10px;\n\t}\n"]))),ft=W.b.form(A||(A=Object(s.a)(["\n\twidth: 100%;\n\tmax-width: 320px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ht=W.b.input(U||(U=Object(s.a)(["\n\twidth: 100%;\n\tpadding: 10px 20px;\n\tborder-radius: 20px;\n\tborder: 1px solid black;\n\ttext-align: center;\n\tbackground-color: white;\n\tcolor: black;\n"]))),gt=W.b.input(z||(z=Object(s.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n\tbackground-color: #04aaff;\n\tcursor: pointer;\n"]))),mt=Object(W.b)(gt)(N||(N=Object(s.a)(["\n\tcursor: pointer;\n\tbackground-color: tomato;\n"]))),wt=function(t){var e=t.tweetObj,n=t.isOwner,c=Object(r.useState)(!1),a=Object(o.a)(c,2),i=a[0],s=a[1],b=Object(r.useState)(e.text),u=Object(o.a)(b,2),l=u[0],p=u[1],x=function(){var t=Object(j.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this tweet?")){t.next=8;break}return n=Object(dt.d)(Q,"tweets","".concat(e.id)),r=Object(jt.d)(V,e.attachedFileUrl),t.next=6,Object(dt.c)(n);case 6:return t.next=8,Object(jt.a)(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){s((function(t){return!t}))},f=function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=Object(dt.d)(Q,"tweets","".concat(e.id)),t.next=4,Object(dt.k)(r,{text:l});case 4:s(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsx)(xt,{children:i?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(ft,{onSubmit:f,children:[Object(Z.jsx)(ht,{type:"text",placeholder:"Edit your tweet",value:l,required:!0,onChange:function(t){var e=t.target.value;p(e)},autoFocus:!0}),Object(Z.jsx)(gt,{type:"submit",value:"Update"})]}),Object(Z.jsx)(mt,{onClick:O,children:"Cancel"})]}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("h4",{children:e.text}),e.attachedFileUrl&&Object(Z.jsx)("img",{src:e.attachedFileUrl,alt:""}),n&&Object(Z.jsxs)(Ot,{children:[Object(Z.jsx)("span",{onClick:x,children:Object(Z.jsx)(at.a,{icon:pt.d})}),Object(Z.jsx)("span",{onClick:O,children:Object(Z.jsx)(at.a,{icon:pt.a})})]})]})})},vt=n(75),yt=W.b.form(I||(I=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\twidth: 100%;\n"]))),kt=W.b.div(E||(E=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tposition: relative;\n\tmargin-bottom: 20px;\n\twidth: 100%;\n"]))),St=W.b.input(D||(D=Object(s.a)(["\n\tflex-grow: 1;\n\theight: 40px;\n\tpadding: 0px 20px;\n\tcolor: white;\n\tborder: 1px solid #04aaff;\n\tborder-radius: 20px;\n\tfont-weight: 500;\n\tfont-size: 12px;\n"]))),Ct=W.b.input(L||(L=Object(s.a)(["\n\tposition: absolute;\n\tright: 0;\n\tbackground-color: #04aaff;\n\theight: 40px;\n\twidth: 40px;\n\tpadding: 10px 0px;\n\ttext-align: center;\n\tborder-radius: 20px;\n\tcolor: white;\n"]))),Ft=W.b.label(B||(B=Object(s.a)(["\n\tcolor: #04aaff;\n  \tcursor: pointer;\n"]))),At=W.b.div(R||(R=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\t& > img {\n\t\theight: 80px;\n\t\twidth: 80px;\n\t\tborder-radius: 40px;\n\t}\n"]))),Ut=W.b.div(q||(q=Object(s.a)(["\n\tcolor: #04aaff;\n\tcursor: pointer;\n\ttext-align: center;\n\t& > span {\n\t\tmargin-right: 10px;\n  \t\tfont-size: 12px;\n\t}\n"]))),zt=function(t){var e=t.userObj,n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(""),b=Object(o.a)(s,2),u=b[0],l=b[1],p=function(){var t=Object(j.a)(d.a.mark((function t(n){var r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==a){t.next=2;break}return t.abrupt("return");case 2:if(n.preventDefault(),r="",""===u){t.next=12;break}return c=Object(jt.d)(V,"".concat(e.uid,"/").concat(Object(vt.a)())),t.next=8,Object(jt.e)(c,u,"data_url");case 8:return o=t.sent,t.next=11,Object(jt.b)(o.ref);case 11:r=t.sent;case 12:return t.next=14,Object(O.a)(Object(O.b)(Q,"tweets"),{text:a,createdAt:Object(O.g)(),creatorId:e.uid,attachedFileUrl:r});case 14:i(""),l("");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)(yt,{onSubmit:p,children:[Object(Z.jsxs)(kt,{children:[Object(Z.jsx)(St,{value:a,onChange:function(t){var e=t.target.value;i(e)},type:"text",placeholder:"What's on your mind?",maxLength:120}),Object(Z.jsx)(Ct,{type:"submit",value:"\u2192"})]}),Object(Z.jsxs)(Ft,{htmlFor:"attach-file",children:[Object(Z.jsx)("span",{children:"Add photos"}),Object(Z.jsx)(at.a,{icon:pt.b})]}),Object(Z.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(t){var e=t.target.files[0],n=new FileReader;n.onloadend=function(t){var e=t.currentTarget.result;l(e)},n.readAsDataURL(e)},style:{opacity:0}}),u&&Object(Z.jsxs)(At,{children:[Object(Z.jsx)("img",{alt:"",src:u,style:{backgroundImage:u}}),Object(Z.jsxs)(Ut,{onClick:function(){return l("")},children:[Object(Z.jsx)("span",{children:"Remove"}),Object(Z.jsx)(at.a,{icon:pt.c})]})]})]})},Nt=function(t){var e=t.userObj,n=Object(r.useState)([]),c=Object(o.a)(n,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){var t=Object(O.f)(Object(O.b)(Q,"tweets"),Object(O.e)("createdAt","desc"));Object(O.d)(t,(function(t){var e=t.docs.map((function(t){return Object(lt.a)({id:t.id},t.data())}));i(e)}))}),[]),Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsx)(zt,{userObj:e}),Object(Z.jsx)("div",{style:{marginTop:30},children:a.map((function(t){return Object(Z.jsx)(wt,{tweetObj:t,isOwner:t.creatorId===e.uid},t.id)}))})]})},It=W.b.ul(_||(_=Object(s.a)(["\n\tdisplay: flex; \n\tjustify-content: center; \n\tmargin-top: 50px;\n\tlist-style-type: none;\n"]))),Et=Object(W.b)(b.b)(G||(G=Object(s.a)(["\n\tmargin-right: 10px;\n"]))),Dt=Object(W.b)(b.b)(J||(J=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-left: 10px;\n\tfont-size: 12px;\n\ttext-decoration: none;\n\t&:visited {\n\t\tcolor: #04AAFF;\n\t} \n"]))),Lt=function(t){var e=t.userObj;return Object(Z.jsx)("nav",{children:Object(Z.jsxs)(It,{children:[Object(Z.jsx)("li",{children:Object(Z.jsx)(Et,{to:"/",children:Object(Z.jsx)(at.a,{icon:it.c,color:"#04AAFF",size:"2x"})})}),Object(Z.jsx)("li",{children:Object(Z.jsxs)(Dt,{to:"/profile",children:[Object(Z.jsx)(at.a,{icon:pt.e,color:"#04AAFF",size:"2x"}),Object(Z.jsxs)("span",{style:{marginTop:10},children:[(null===e||void 0===e?void 0:e.displayName)?"".concat(e.displayName):"User","`s Profile"]})]})})]})})},Bt=n(36),Rt=W.b.form(P||(P=Object(s.a)(["\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.9);\n\tpadding-bottom: 30px;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),qt=W.b.input(T||(T=Object(s.a)(["\n\twidth: 100%;\n\tpadding: 10px 20px;\n\tborder-radius: 20px;\n\tborder: 1px solid black;\n\ttext-align: center;\n\tbackground-color: white;\n  \tcolor: black;\n"]))),_t=W.b.input(K||(K=Object(s.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n\tbackground-color: #04aaff;\n\tmargin-top: 10px;\n"]))),Gt=W.b.span(M||(M=Object(s.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n  \tbackground-color: tomato;\n\tmargin-top: 50px;\n"]))),Jt=function(t){var e=t.userObj,n=t.refreshUser,c=Object(r.useState)(e.displayName),a=Object(o.a)(c,2),i=a[0],s=a[1],b=Object(u.f)(),l=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(dt.i)(Object(dt.b)(Q,"tweets"),Object(dt.l)("creatorId","==",e.uid),Object(dt.h)("createdAt","desc")),t.next=3,Object(dt.e)(n);case 3:t.sent.forEach((function(t){console.log(t.id,"=>",t.data())}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){l()}));var p=function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.displayName===i){t.next=4;break}return t.next=4,Object(Bt.g)(H.currentUser,{displayName:i});case 4:n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsxs)(Rt,{onSubmit:p,children:[Object(Z.jsx)(qt,{type:"text",placeholder:"Display Name",value:i,onChange:function(t){var e=t.target.value;s(e)},autoFocus:!0}),Object(Z.jsx)(_t,{type:"submit",value:"Update Profile"})]}),Object(Z.jsx)(Gt,{onClick:function(){H.signOut(),b.push("/")},children:"Log Out"})]})},Pt=W.b.div(X||(X=Object(s.a)(["\n\tmax-width: 890px;\n\twidth: 100%;\n\tmargin: 0 auto;\n\tmargin-top: 80px;\n\tdisplay: flex;\n\tjustify-content: center;\n"]))),Tt=function(t){var e=t.isLoggedIn,n=t.userObj,r=t.refreshUser;return Object(Z.jsxs)(b.a,{children:[e&&Object(Z.jsx)(Lt,{userObj:n}),Object(Z.jsx)(u.c,{children:e?Object(Z.jsxs)(Pt,{children:[Object(Z.jsx)(u.a,{exact:!0,path:"/",children:Object(Z.jsx)(Nt,{userObj:n})}),Object(Z.jsx)(u.a,{exact:!0,path:"/profile",children:Object(Z.jsx)(Jt,{userObj:n,refreshUser:r})})]}):Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(u.a,{exact:!0,path:"/",children:Object(Z.jsx)(ut,{})})})})]})},Kt=Object(W.a)(Y||(Y=Object(s.a)(['\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\n\tinput {\n\t\tall: unset;\n\t\tbox-sizing: border-box;\n\t\tappearance: none;\n\t}\n\n\tbody {\n\t\tbackground-color: black;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n\t\t\tUbuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n\t\tfont-size: 14px;\n\t\tcolor: white;\n\t}\n\n\tbutton {\n\t\tbackground-color: white;\n\t\tcolor: black;\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: inherit;\n\t}\n\n\tform {\n\t\twidth: 100%;\n\t}\n\n\t.container {\n\t\twidth: 100%;\n\t\tmax-width: 320px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n'])));var Mt=function(){var t=Object(r.useState)(!1),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(null),i=Object(o.a)(a,2),s=i[0],b=i[1];return Object(r.useEffect)((function(){H.onAuthStateChanged((function(t){t?(null===t.displayName&&Object(Bt.g)(t,{displayName:"User"}),b({uid:t.uid,displayName:t.displayName})):b(null),c(!0)}))}),[]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Kt,{}),n?Object(Z.jsx)(Tt,{isLoggedIn:Boolean(s),userObj:s,refreshUser:function(){var t=H.currentUser;b({uid:t.uid,displayName:t.displayName})}}):"Initializing..."]})};i.a.render(Object(Z.jsx)(c.a.StrictMode,{children:Object(Z.jsx)(Mt,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.4c55b24f.chunk.js.map