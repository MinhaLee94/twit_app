(this.webpackJsonptwit_app=this.webpackJsonptwit_app||[]).push([[0],{73:function(t,e,n){"use strict";n.r(e);var r=n(7),c=n.n(r),a=n(53),i=n.n(a),o=n(11),s=n(39),b=n(17),l=n(0),u=n.n(l),d=n(2),j=n(12),p=n(32),x=n(54),O=n(29),f=n(55);Object(x.a)({apiKey:"AIzaSyC1eKVqjQgkXIxJYO5xlXEG6_6bRYxe98g",authDomain:"twit-app-fac63.firebaseapp.com",projectId:"twit-app-fac63",storageBucket:"twit-app-fac63.appspot.com",messagingSenderId:"467455715701",appId:"1:467455715701:web:2425d4863457ee3e970b3c"});var h,g,m,w,v,y,k,S,C,F,A,U,z,N,I,E,D,B,L,R,q,T,_,G,J,P,K,M,W,X=Object(p.d)(),Y=Object(O.c)(),H=Object(f.a)(),Q=n(13),V=n(6),Z=Q.b.form(h||(h=Object(j.a)(["\n\twidth: 100%;\n\tmax-width: 320px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),$=Q.b.input(g||(g=Object(j.a)(["\n\tmax-width: 320px;\n\twidth: 100%;\n\tpadding: 10px;\n\tborder-radius: 30px;\n\tbackground-color: rgba(255, 255, 255, 1);\n\tmargin-bottom: 10px;\n\tfont-size: 12px;\n\tcolor: black;\n"]))),tt=Object(Q.b)($)(m||(m=Object(j.a)(["\n\ttext-align: center;\n\tbackground: #04aaff;\n\tcolor: white;\n\tmargin-top: 10;\n\tcursor: pointer;\n"]))),et=Q.b.span(w||(w=Object(j.a)(["\n\tcolor: tomato;\n\ttext-align: center;\n\tfont-weight: 500;\n\tfont-size: 12px;\n"]))),nt=Q.b.span(v||(v=Object(j.a)(["\n\tcolor: #04aaff;\n\tcursor: pointer;\n\tmargin-top: 10px;\n\tmargin-bottom: 50px;\n\tdisplay: block;\n\tfont-size: 12px;\n\ttext-decoration: underline;\n"]))),rt=function(){var t=Object(r.useState)(""),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),i=Object(o.a)(a,2),s=i[0],b=i[1],l=Object(r.useState)(!0),j=Object(o.a)(l,2),x=j[0],O=j[1],f=Object(r.useState)(""),h=Object(o.a)(f,2),g=h[0],m=h[1],w=function(t){var e=t.target,n=e.name,r=e.value;"email"===n?c(r):"password"===n&&b(r)},v=function(){var t=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,!x){t.next=7;break}return t.next=5,Object(p.c)(X,n,s);case 5:t.next=9;break;case 7:return t.next=9,Object(p.e)(X,n,s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),m(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(Z,{onSubmit:v,children:[Object(V.jsx)($,{name:"email",type:"text",placeholder:"Email",required:!0,value:n,onChange:w}),Object(V.jsx)($,{name:"password",type:"password",placeholder:"Password",required:!0,value:s,onChange:w}),Object(V.jsx)(tt,{type:"submit",value:x?"Create Account":"Log in"}),g&&Object(V.jsx)(et,{children:g})]}),Object(V.jsx)(nt,{onClick:function(){return O((function(t){return!t}))},children:x?"Sign in":"Create Account"})]})},ct=n(26),at=n(40),it=Q.b.div(y||(y=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\tjustify-content: center;\n\talign-items: center;\n"]))),ot=Q.b.div(k||(k=Object(j.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tmax-width: 320px;\n"]))),st=Q.b.button(S||(S=Object(j.a)(["\n\tcursor: pointer;\n\tborder-radius: 20px;\n\tborder: none;\n\tpadding: 10px 0px;\n\tfont-size: 12px;\n\ttext-align: center;\n\twidth: 150px;\n\tbackground: white;\n\tcursor: pointer;\n"]))),bt=function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.name,t.prev=1,"google"===n?r=new p.b:"github"===n&&(r=new p.a),t.next=5,Object(p.f)(X,r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)(it,{children:[Object(V.jsx)(ct.a,{icon:at.c,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(V.jsx)(rt,{}),Object(V.jsxs)(ot,{children:[Object(V.jsxs)(st,{onClick:t,name:"google",children:["Continue with Google ",Object(V.jsx)(ct.a,{icon:at.b})]}),Object(V.jsxs)(st,{onClick:t,name:"github",children:["Continue with Github ",Object(V.jsx)(ct.a,{icon:at.a})]})]})]})},lt=n(59),ut=n(25),dt=n(31),jt=n(33),pt=Q.b.div(C||(C=Object(j.a)(["\n\tmargin-bottom: 20px;\n\tbackground-color: white;\n\twidth: 100%;\n\tmax-width: 320px;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: rgba(0, 0, 0, 0.8);\n\n\t& > h4 {\n\t\tfont-size: 14px;\n\t}\n\n\t& > img {\n\t\tright: -10px;\n\t\ttop: 20px;\n\t\tposition: absolute;\n\t\tborder-radius: 50%;\n\t\twidth: 50px;\n\t\theight: 50px;\n\t\tmargin-top: 10px;\n\t}\n"]))),xt=Q.b.div(F||(F=Object(j.a)(["\n\tposition: absolute;\n\tright: 10px;\n\ttop: 10px;\n\n\t& > span {\n\t\tcursor: pointer;\n\t}\n\n\t& > span::first-child {\n\t\tmargin-right: 10px;\n\t}\n"]))),Ot=Q.b.form(A||(A=Object(j.a)(["\n\twidth: 100%;\n\tmax-width: 320px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ft=Q.b.input(U||(U=Object(j.a)(["\n\twidth: 100%;\n\tpadding: 10px 20px;\n\tborder-radius: 20px;\n\tborder: 1px solid black;\n\ttext-align: center;\n\tbackground-color: white;\n\tcolor: black;\n"]))),ht=Q.b.input(z||(z=Object(j.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n\tbackground-color: #04aaff;\n\tcursor: pointer;\n"]))),gt=(Object(Q.b)(ht)(N||(N=Object(j.a)(["\n\tcursor: pointer;\n\tbackground-color: tomato;\n"]))),function(t){var e=t.tweetObj,n=t.isOwner,c=Object(r.useState)(!1),a=Object(o.a)(c,2),i=a[0],s=a[1],b=Object(r.useState)(e.text),l=Object(o.a)(b,2),j=l[0],p=l[1],x=function(){var t=Object(d.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this tweet?")){t.next=8;break}return n=Object(ut.d)(Y,"tweets","".concat(e.id)),r=Object(dt.d)(H,e.attachedFileUrl),t.next=6,Object(ut.c)(n);case 6:return t.next=8,Object(dt.a)(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){s((function(t){return!t}))},f=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=Object(ut.d)(Y,"tweets","".concat(e.id)),t.next=4,Object(ut.k)(r,{text:j});case 4:s(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsx)(pt,{children:i?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(Ot,{onSubmit:f,children:[Object(V.jsx)(ft,{type:"text",placeholder:"Edit your tweet",value:j,required:!0,onChange:function(t){var e=t.target.value;p(e)},autoFocus:!0}),Object(V.jsx)(ht,{type:"submit",value:"Update"})]}),Object(V.jsx)("cancelBtn",{onClick:O,children:"Cancel"})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("h4",{children:e.text}),e.attachedFileUrl&&Object(V.jsx)("img",{src:e.attachedFileUrl,alt:""}),n&&Object(V.jsxs)(xt,{children:[Object(V.jsx)("span",{onClick:x,children:Object(V.jsx)(ct.a,{icon:jt.d})}),Object(V.jsx)("span",{onClick:O,children:Object(V.jsx)(ct.a,{icon:jt.a})})]})]})})}),mt=n(75),wt=Q.b.form(I||(I=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\twidth: 100%;\n"]))),vt=Q.b.div(E||(E=Object(j.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tposition: relative;\n\tmargin-bottom: 20px;\n\twidth: 100%;\n"]))),yt=Q.b.input(D||(D=Object(j.a)(["\n\tflex-grow: 1;\n\theight: 40px;\n\tpadding: 0px 20px;\n\tcolor: white;\n\tborder: 1px solid #04aaff;\n\tborder-radius: 20px;\n\tfont-weight: 500;\n\tfont-size: 12px;\n"]))),kt=Q.b.input(B||(B=Object(j.a)(["\n\tposition: absolute;\n\tright: 0;\n\tbackground-color: #04aaff;\n\theight: 40px;\n\twidth: 40px;\n\tpadding: 10px 0px;\n\ttext-align: center;\n\tborder-radius: 20px;\n\tcolor: white;\n"]))),St=Q.b.label(L||(L=Object(j.a)(["\n\tcolor: #04aaff;\n  \tcursor: pointer;\n"]))),Ct=Q.b.div(R||(R=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\t& > img {\n\t\theight: 80px;\n\t\twidth: 80px;\n\t\tborder-radius: 40px;\n\t}\n"]))),Ft=Q.b.div(q||(q=Object(j.a)(["\n\tcolor: #04aaff;\n\tcursor: pointer;\n\ttext-align: center;\n\t& > span {\n\t\tmargin-right: 10px;\n  \t\tfont-size: 12px;\n\t}\n"]))),At=function(t){var e=t.userObj,n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(""),b=Object(o.a)(s,2),l=b[0],j=b[1],p=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==a){t.next=2;break}return t.abrupt("return");case 2:if(n.preventDefault(),r="",""===l){t.next=12;break}return c=Object(dt.d)(H,"".concat(e.uid,"/").concat(Object(mt.a)())),t.next=8,Object(dt.e)(c,l,"data_url");case 8:return o=t.sent,t.next=11,Object(dt.b)(o.ref);case 11:r=t.sent;case 12:return t.next=14,Object(O.a)(Object(O.b)(Y,"tweets"),{text:a,createdAt:Object(O.g)(),creatorId:e.uid,attachedFileUrl:r});case 14:i(""),j("");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)(wt,{onSubmit:p,children:[Object(V.jsxs)(vt,{children:[Object(V.jsx)(yt,{value:a,onChange:function(t){var e=t.target.value;i(e)},type:"text",placeholder:"What's on your mind?",maxLength:120}),Object(V.jsx)(kt,{type:"submit",value:"\u2192"})]}),Object(V.jsxs)(St,{for:"attach-file",children:[Object(V.jsx)("span",{children:"Add photos"}),Object(V.jsx)(ct.a,{icon:jt.b})]}),Object(V.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(t){var e=t.target.files[0],n=new FileReader;n.onloadend=function(t){var e=t.currentTarget.result;j(e)},n.readAsDataURL(e)},style:{opacity:0}}),l&&Object(V.jsxs)(Ct,{children:[Object(V.jsx)("img",{alt:"",src:l,style:{backgroundImage:l}}),Object(V.jsxs)(Ft,{onClick:function(){return j("")},children:[Object(V.jsx)("span",{children:"Remove"}),Object(V.jsx)(ct.a,{icon:jt.c})]})]})]})},Ut=function(t){var e=t.userObj,n=Object(r.useState)([]),c=Object(o.a)(n,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){var t=Object(O.f)(Object(O.b)(Y,"tweets"),Object(O.e)("createdAt","desc"));Object(O.d)(t,(function(t){var e=t.docs.map((function(t){return Object(lt.a)({id:t.id},t.data())}));i(e)}))}),[]),Object(V.jsxs)("div",{className:"container",children:[Object(V.jsx)(At,{userObj:e}),Object(V.jsx)("div",{style:{marginTop:30},children:a.map((function(t){return Object(V.jsx)(gt,{tweetObj:t,isOwner:t.creatorId===e.uid},t.id)}))})]})},zt=Q.b.ul(T||(T=Object(j.a)(["\n\tdisplay: flex; \n\tjustify-content: center; \n\tmargin-top: 50px;\n\tlist-style-type: none;\n"]))),Nt=Object(Q.b)(s.b)(_||(_=Object(j.a)(["\n\tmargin-right: 10px;\n"]))),It=Object(Q.b)(s.b)(G||(G=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-left: 10px;\n\tfont-size: 12px;\n\ttext-decoration: none;\n\t&:visited {\n\t\tcolor: #04AAFF;\n\t} \n"]))),Et=function(t){var e=t.userObj;return Object(V.jsx)("nav",{children:Object(V.jsxs)(zt,{children:[Object(V.jsx)("li",{children:Object(V.jsx)(Nt,{to:"/",children:Object(V.jsx)(ct.a,{icon:at.c,color:"#04AAFF",size:"2x"})})}),Object(V.jsx)("li",{children:Object(V.jsxs)(It,{to:"/profile",children:[Object(V.jsx)(ct.a,{icon:jt.e,color:"#04AAFF",size:"2x"}),Object(V.jsxs)("span",{style:{marginTop:10},children:[(null===e||void 0===e?void 0:e.displayName)?"".concat(e.displayName):"User","`s Profile"]})]})})]})})},Dt=n(36),Bt=Q.b.form(J||(J=Object(j.a)(["\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.9);\n\tpadding-bottom: 30px;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),Lt=Q.b.input(P||(P=Object(j.a)(["\n\twidth: 100%;\n\tpadding: 10px 20px;\n\tborder-radius: 20px;\n\tborder: 1px solid black;\n\ttext-align: center;\n\tbackground-color: white;\n  \tcolor: black;\n"]))),Rt=Q.b.input(K||(K=Object(j.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n\tbackground-color: #04aaff;\n\tmargin-top: 10px;\n"]))),qt=Q.b.span(M||(M=Object(j.a)(["\n\tcursor: pointer;\n\twidth: 100%;\n\tpadding: 7px 20px;\n\ttext-align: center;\n\tcolor: white;\n\tborder-radius: 20px;\n  \tbackground-color: tomato;\n\tmargin-top: 50px;\n"]))),Tt=function(t){var e=t.userObj,n=t.refreshUser,c=Object(r.useState)(e.displayName),a=Object(o.a)(c,2),i=a[0],s=a[1],l=Object(b.f)(),j=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(ut.i)(Object(ut.b)(Y,"tweets"),Object(ut.l)("creatorId","==",e.uid),Object(ut.h)("createdAt","desc")),t.next=3,Object(ut.e)(n);case 3:t.sent.forEach((function(t){console.log(t.id,"=>",t.data())}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){j()}),[]);var p=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.displayName===i){t.next=4;break}return t.next=4,Object(Dt.g)(X.currentUser,{displayName:i});case 4:n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:"container",children:[Object(V.jsxs)(Bt,{onSubmit:p,children:[Object(V.jsx)(Lt,{type:"text",placeholder:"Display Name",value:i,onChange:function(t){var e=t.target.value;s(e)},autoFocus:!0}),Object(V.jsx)(Rt,{type:"submit",value:"Update Profile"})]}),Object(V.jsx)(qt,{onClick:function(){X.signOut(),l.push("/")},children:"Log Out"})]})},_t=function(t){var e=t.isLoggedIn,n=t.userObj,r=t.refreshUser;return Object(V.jsxs)(s.a,{children:[e&&Object(V.jsx)(Et,{userObj:n}),Object(V.jsx)(b.c,{children:e?Object(V.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[Object(V.jsx)(b.a,{exact:!0,path:"/",children:Object(V.jsx)(Ut,{userObj:n})}),Object(V.jsx)(b.a,{exact:!0,path:"/profile",children:Object(V.jsx)(Tt,{userObj:n,refreshUser:r})})]}):Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(b.a,{exact:!0,path:"/",children:Object(V.jsx)(bt,{})})})})]})},Gt=Object(Q.a)(W||(W=Object(j.a)(['\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\n\tinput {\n\t\tall: unset;\n\t\tbox-sizing: border-box;\n\t\tappearance: none;\n\t}\n\n\tbody {\n\t\tbackground-color: black;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n\t\t\tUbuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n\t\tfont-size: 14px;\n\t\tcolor: white;\n\t}\n\n\tbutton {\n\t\tbackground-color: white;\n\t\tcolor: black;\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: inherit;\n\t}\n\n\tform {\n\t\twidth: 100%;\n\t}\n\n\t.container {\n\t\twidth: 100%;\n\t\tmax-width: 320px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n'])));var Jt=function(){var t=Object(r.useState)(!1),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(null),i=Object(o.a)(a,2),s=i[0],b=i[1];return Object(r.useEffect)((function(){X.onAuthStateChanged((function(t){t?(null===t.displayName&&Object(Dt.g)(t,{displayName:"User"}),b({uid:t.uid,displayName:t.displayName})):b(null),c(!0)}))}),[]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Gt,{}),n?Object(V.jsx)(_t,{isLoggedIn:Boolean(s),userObj:s,refreshUser:function(){var t=X.currentUser;b({uid:t.uid,displayName:t.displayName})}}):"Initializing..."]})};i.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(Jt,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.e9b193fb.chunk.js.map